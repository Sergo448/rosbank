--
-- PostgreSQL database dump
--

-- Dumped from database version 14.5 (Ubuntu 14.5-0ubuntu0.22.04.1)
-- Dumped by pg_dump version 14.5 (Ubuntu 14.5-0ubuntu0.22.04.1)

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: traiding; Type: SCHEMA; Schema: -; Owner: sergey
--

CREATE SCHEMA traiding;


ALTER SCHEMA traiding OWNER TO sergey;

--
-- Name: leave_update_null_dates(); Type: FUNCTION; Schema: traiding; Owner: sergey
--

CREATE FUNCTION traiding.leave_update_null_dates() RETURNS integer
    LANGUAGE plpgsql
    AS $$
DECLARE
    lv RECORD;
BEGIN
    FOR lv IN SELECT * FROM Leave where Leave_Date is NULL LOOP
        UPDATE Leave
        SET Leave_Date = (select coalesce(max(l1.Leave_Date) + (interval '1 day' * (random() * 9)::int), '1990-01-01'::date) 
                             from Leave l1 
                             where l1.Emp_ID = lv.Emp_ID)
        WHERE ID = lv.ID;
    END LOOP;
    RETURN 0;
END;
$$;


ALTER FUNCTION traiding.leave_update_null_dates() OWNER TO sergey;

--
-- Name: random_choice(text[]); Type: FUNCTION; Schema: traiding; Owner: sergey
--

CREATE FUNCTION traiding.random_choice(choices text[]) RETURNS text
    LANGUAGE plpgsql
    AS $$
DECLARE
    size_ int;
BEGIN
    size_ = array_length(choices, 1);
    RETURN (choices)[floor(random()*size_)+1];
END
$$;


ALTER FUNCTION traiding.random_choice(choices text[]) OWNER TO sergey;

--
-- Name: random_dates_choise(); Type: FUNCTION; Schema: traiding; Owner: sergey
--

CREATE FUNCTION traiding.random_dates_choise() RETURNS timestamp with time zone
    LANGUAGE plpgsql
    AS $$
DECLARE
    lv RECORD;
BEGIN
    select TO_CHAR(day, 'YYYY-MM-DD') FROM generate_series
        ( '2022-11-01'::date
        , '2022-11-30'::date
        , '1 day'::interval) day;
END;
$$;


ALTER FUNCTION traiding.random_dates_choise() OWNER TO sergey;

--
-- Name: random_fio(); Type: FUNCTION; Schema: traiding; Owner: sergey
--

CREATE FUNCTION traiding.random_fio() RETURNS text
    LANGUAGE plpgsql
    AS $$
begin 
	SELECT * FROM fio f 
	ORDER BY RANDOM()
	LIMIT 1;
END;
$$;


ALTER FUNCTION traiding.random_fio() OWNER TO sergey;

--
-- Name: random_string(integer); Type: FUNCTION; Schema: traiding; Owner: sergey
--

CREATE FUNCTION traiding.random_string(length integer) RETURNS text
    LANGUAGE plpgsql
    AS $$
declare
  chars text[] := '{0,1,2,3,4,5,6,7,8,9,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z}';
  result text := '';
  i integer := 0;
begin
  if length < 0 then
    raise exception 'Given length cannot be less than 0';
  end if;
  for i in 1..length loop
    result := result || chars[1+random()*(array_length(chars, 1)-1)];
  end loop;
  return result;
end;
$$;


ALTER FUNCTION traiding.random_string(length integer) OWNER TO sergey;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: investment_currencyhistory; Type: TABLE; Schema: traiding; Owner: sergey
--

CREATE TABLE traiding.investment_currencyhistory (
    currency_id integer NOT NULL,
    currency character varying(40) NOT NULL,
    direct_quote character varying(40) NOT NULL,
    reverse_quote character varying(40) NOT NULL,
    cross_course character varying(40),
    quote_date timestamp with time zone NOT NULL
);


ALTER TABLE traiding.investment_currencyhistory OWNER TO sergey;

--
-- Name: currencies; Type: VIEW; Schema: public; Owner: sergey
--

CREATE VIEW public.currencies AS
 SELECT DISTINCT ic.currency
   FROM traiding.investment_currencyhistory ic;


ALTER TABLE public.currencies OWNER TO sergey;

--
-- Name: currency_array; Type: VIEW; Schema: public; Owner: sergey
--

CREATE VIEW public.currency_array AS
 SELECT 'Hello World'::text AS "?column?";


ALTER TABLE public.currency_array OWNER TO sergey;

--
-- Name: currencies; Type: VIEW; Schema: traiding; Owner: sergey
--

CREATE VIEW traiding.currencies AS
 SELECT DISTINCT ic.currency
   FROM traiding.investment_currencyhistory ic;


ALTER TABLE traiding.currencies OWNER TO sergey;

--
-- Name: full_names; Type: VIEW; Schema: traiding; Owner: sergey
--

CREATE VIEW traiding.full_names AS
 SELECT arrays.firstnames[((s.a % array_length(arrays.firstnames, 1)) + 1)] AS firstname,
    SUBSTRING('ABCDEFGHIJKLMNOPQRSTUVWXYZ'::text FROM ((s.a % 26) + 1) FOR 1) AS middlename,
    arrays.lastnames[((s.a % array_length(arrays.lastnames, 1)) + 1)] AS lastname
   FROM (generate_series(1, 500) s(a)
     CROSS JOIN ( SELECT ARRAY['Adam'::text, 'Bill'::text, 'Bob'::text, 'Calvin'::text, 'Donald'::text, 'Dwight'::text, 'Frank'::text, 'Fred'::text, 'George'::text, 'Howard'::text, 'James'::text, 'John'::text, 'Jacob'::text, 'Jack'::text, 'Martin'::text, 'Matthew'::text, 'Max'::text, 'Michael'::text, 'Paul'::text, 'Peter'::text, 'Phil'::text, 'Roland'::text, 'Ronald'::text, 'Samuel'::text, 'Steve'::text, 'Theo'::text, 'Warren'::text, 'William'::text, 'Abigail'::text, 'Alice'::text, 'Allison'::text, 'Amanda'::text, 'Anne'::text, 'Barbara'::text, 'Betty'::text, 'Carol'::text, 'Cleo'::text, 'Donna'::text, 'Jane'::text, 'Jennifer'::text, 'Julie'::text, 'Martha'::text, 'Mary'::text, 'Melissa'::text, 'Patty'::text, 'Sarah'::text, 'Simone'::text, 'Susan'::text] AS firstnames,
            ARRAY['Matthews'::text, 'Smith'::text, 'Jones'::text, 'Davis'::text, 'Jacobson'::text, 'Williams'::text, 'Donaldson'::text, 'Maxwell'::text, 'Peterson'::text, 'Stevens'::text, 'Franklin'::text, 'Washington'::text, 'Jefferson'::text, 'Adams'::text, 'Jackson'::text, 'Johnson'::text, 'Lincoln'::text, 'Grant'::text, 'Fillmore'::text, 'Harding'::text, 'Taft'::text, 'Truman'::text, 'Nixon'::text, 'Ford'::text, 'Carter'::text, 'Reagan'::text, 'Bush'::text, 'Clinton'::text, 'Hancock'::text] AS lastnames) arrays);


ALTER TABLE traiding.full_names OWNER TO sergey;

--
-- Name: fio; Type: VIEW; Schema: traiding; Owner: sergey
--

CREATE VIEW traiding.fio AS
 SELECT concat(fn.firstname, ' ', fn.middlename, ' ', fn.lastname) AS fio
   FROM traiding.full_names fn;


ALTER TABLE traiding.fio OWNER TO sergey;

--
-- Name: history_prices; Type: TABLE; Schema: traiding; Owner: sergey
--

CREATE TABLE traiding.history_prices (
    currency_id integer NOT NULL,
    currency character varying(40) NOT NULL,
    direct_quote character varying(40) NOT NULL,
    reverse_quote character varying(40) NOT NULL,
    cross_course character varying(40),
    date_ text NOT NULL
);


ALTER TABLE traiding.history_prices OWNER TO sergey;

--
-- Name: securities; Type: TABLE; Schema: traiding; Owner: sergey
--

CREATE TABLE traiding.securities (
    client_id integer NOT NULL,
    client_date timestamp with time zone NOT NULL,
    client_isin_paper character varying(40) NOT NULL,
    client_n_papers integer,
    client_currency character varying(40),
    client_rialto character varying(40),
    client_closing_price money
);


ALTER TABLE traiding.securities OWNER TO sergey;

--
-- Name: series_time; Type: VIEW; Schema: traiding; Owner: sergey
--

CREATE VIEW traiding.series_time AS
 SELECT to_char(day.day, 'YYYY-MM-DD'::text) AS to_char
   FROM generate_series(('2022-10-01'::date)::timestamp with time zone, ('2022-12-01'::date)::timestamp with time zone, '01:30:00'::interval) day(day);


ALTER TABLE traiding.series_time OWNER TO sergey;

--
-- Name: сlients; Type: TABLE; Schema: traiding; Owner: sergey
--

CREATE TABLE traiding."сlients" (
    investor_id integer NOT NULL,
    full_name character varying(40) NOT NULL,
    investor_age smallint NOT NULL,
    investor_country character varying(40) NOT NULL,
    number_in_briefcase integer,
    positive_capital money NOT NULL,
    qual_or_nonqual boolean,
    personal_manager_id character varying(40) NOT NULL
);


ALTER TABLE traiding."сlients" OWNER TO sergey;

--
-- Data for Name: history_prices; Type: TABLE DATA; Schema: traiding; Owner: sergey
--

COPY traiding.history_prices (currency_id, currency, direct_quote, reverse_quote, cross_course, date_) FROM stdin;
836	AUD/USD	1.3738478	1.2907935	1.3012412	2022-10-27
1496	USD/JPY	32.12028	1.3419746	1.3017167	2022-10-06
2071	NZD/USD	37.368767	1.4996032	1.2404976	2022-10-09
4625	USD/JPY	40.699383	1.5114788	1.220334	2022-11-17
253	EUR/USD	5.13296	1.4108196	1.3962678	2022-11-23
3177	NZD/USD	36.822018	1.3616039	1.36781	2022-11-04
1522	NZD/USD	21.492224	1.3004081	1.3688339	2022-11-28
173	USD/CAD	29.211605	1.2227205	1.2173767	2022-11-15
3253	USD/CAD	36.796238	1.3901011	1.5322179	2022-11-06
878	NZD/USD	19.463959	1.3151238	1.4060278	2022-10-07
2239	USD/JPY	7.785929	1.4930134	1.4312352	2022-11-23
3550	USD/CHF	7.8431406	1.3120456	1.5007932	2022-11-28
3814	GBP/USD	31.272861	1.5117933	1.2415928	2022-10-01
3605	AUD/USD	3.8094788	1.4473624	1.4693239	2022-11-07
4610	GBP/USD	41.424576	1.5250101	1.3146628	2022-11-02
1514	GBP/USD	39.410583	1.4565777	1.3673937	2022-10-15
3965	GBP/USD	23.107931	1.4365917	1.3566966	2022-11-07
1930	USD/JPY	7.543066	1.4117352	1.2276644	2022-11-16
2415	NZD/USD	4.33825	1.3506727	1.3700656	2022-11-30
2395	NZD/USD	6.907227	1.2164398	1.5204638	2022-10-23
159	USD/CAD	12.415279	1.340203	1.4416285	2022-11-17
4396	EUR/USD	21.228796	1.2161139	1.448445	2022-10-12
4037	USD/CAD	10.797629	1.3520874	1.320518	2022-10-24
2528	EUR/USD	42.011406	1.2910154	1.2627696	2022-10-10
3181	AUD/USD	27.175623	1.3744895	1.2745267	2022-11-06
4167	AUD/USD	11.71032	1.3853673	1.4289505	2022-10-22
1334	EUR/USD	37.548138	1.3232334	1.300844	2022-10-20
2217	EUR/USD	17.782438	1.235221	1.365648	2022-11-11
2662	AUD/USD	36.392258	1.363969	1.243155	2022-10-26
2315	USD/CHF	7.5695705	1.2203796	1.2895662	2022-11-19
2875	EUR/USD	49.235237	1.2949461	1.2530613	2022-10-15
3255	EUR/USD	19.411379	1.301847	1.4341432	2022-11-20
3523	USD/CHF	31.096495	1.4118488	1.2194147	2022-11-25
374	GBP/USD	36.761375	1.3758528	1.2889525	2022-11-19
4486	USD/CAD	42.363045	1.4511925	1.254483	2022-10-10
1232	EUR/USD	19.393797	1.3085203	1.4606481	2022-10-17
2927	GBP/USD	2.695	1.5322741	1.5208694	2022-11-26
1050	AUD/USD	49.041157	1.2216939	1.2948954	2022-11-22
1315	USD/JPY	43.528454	1.4395863	1.4778117	2022-11-01
2185	USD/CAD	45.9917	1.3903446	1.5020142	2022-10-18
2563	GBP/USD	10.651262	1.4779694	1.3998669	2022-11-26
2231	EUR/USD	18.30292	1.3352947	1.3170414	2022-11-12
1849	NZD/USD	10.172977	1.441576	1.2250619	2022-10-31
4311	USD/CAD	46.351856	1.3317713	1.41759	2022-11-21
2323	GBP/USD	43.993336	1.3549536	1.4733477	2022-10-23
668	USD/CAD	32.444683	1.4245089	1.4502281	2022-10-18
594	EUR/USD	44.59445	1.5102323	1.5096481	2022-10-23
1780	USD/JPY	8.147679	1.5237566	1.3681481	2022-11-26
2726	USD/CAD	43.640064	1.388508	1.4089202	2022-10-22
2985	USD/CAD	40.878593	1.2236292	1.3096232	2022-11-14
2368	EUR/USD	44.46084	1.3760666	1.2234727	2022-11-24
3905	USD/CHF	16.111828	1.414761	1.2181623	2022-11-01
2883	USD/CHF	42.30286	1.4271703	1.4313812	2022-10-14
2396	AUD/USD	25.568264	1.3538091	1.4283509	2022-11-22
4171	NZD/USD	32.326775	1.3066424	1.3563968	2022-10-04
1055	USD/CHF	23.101143	1.2232833	1.397662	2022-11-02
4687	EUR/USD	7.852717	1.4787626	1.2750295	2022-10-27
2668	NZD/USD	15.085551	1.4355775	1.3736075	2022-11-28
4896	USD/CAD	1.6404934	1.2190017	1.2622669	2022-11-25
2275	AUD/USD	23.945744	1.4837294	1.3410883	2022-11-18
4624	AUD/USD	47.24762	1.3449616	1.4162935	2022-10-08
1252	NZD/USD	26.02733	1.3483638	1.2741829	2022-11-16
4534	GBP/USD	46.07442	1.5180306	1.4679325	2022-10-12
1335	USD/JPY	50.412346	1.4217783	1.5175405	2022-11-23
2461	EUR/USD	38.051826	1.2862759	1.4315747	2022-11-10
2509	EUR/USD	36.198032	1.4662714	1.2260828	2022-11-07
871	AUD/USD	24.59097	1.5084226	1.4485861	2022-11-09
3750	USD/CAD	30.867224	1.4799812	1.484599	2022-10-23
2397	AUD/USD	50.665577	1.3102207	1.2277883	2022-11-09
2423	AUD/USD	7.3488564	1.2504312	1.2285087	2022-11-10
4644	USD/CAD	47.087677	1.5093949	1.2358956	2022-11-12
1086	NZD/USD	33.275448	1.4413366	1.4464614	2022-10-04
3338	USD/CHF	14.16404	1.4137007	1.4437761	2022-10-08
4474	NZD/USD	42.78995	1.2120248	1.4245043	2022-10-03
4323	AUD/USD	43.985252	1.4783821	1.4320626	2022-10-19
\.


--
-- Data for Name: investment_currencyhistory; Type: TABLE DATA; Schema: traiding; Owner: sergey
--

COPY traiding.investment_currencyhistory (currency_id, currency, direct_quote, reverse_quote, cross_course, quote_date) FROM stdin;
3764	GBP/USD	26.90519	1.3115095	1.449788	2023-03-16 15:00:27.255735+03
3838	USD/CAD	15.784396	1.4550234	1.4930825	2023-02-19 02:38:45.417862+03
825	NZD/USD	16.85716	1.3384422	1.2385224	2023-01-04 06:52:34.973751+03
810	USD/CAD	19.489927	1.5279384	1.5117434	2023-02-05 01:15:41.531254+03
4930	USD/CAD	19.994974	1.2576121	1.4280906	2023-01-31 08:59:13.806004+03
4186	NZD/USD	4.765206	1.2611543	1.39834	2023-02-27 18:20:30.098698+03
3240	GBP/USD	38.602573	1.3542625	1.4337087	2022-12-31 18:03:11.582951+03
4806	EUR/USD	48.25917	1.5168003	1.5267103	2023-03-15 08:26:06.844037+03
1547	USD/JPY	6.0618997	1.4293003	1.4614286	2023-01-06 07:53:19.342962+03
1739	USD/CAD	34.104313	1.4678489	1.4511503	2023-03-17 16:17:23.297551+03
743	NZD/USD	6.296292	1.422491	1.4220109	2023-01-18 20:26:40.138158+03
3641	EUR/USD	43.363064	1.4495881	1.5079792	2023-01-24 07:27:37.108525+03
813	GBP/USD	16.256876	1.3987206	1.2597145	2023-01-08 18:09:25.72937+03
2039	GBP/USD	44.119007	1.2859892	1.352731	2023-01-21 03:33:33.656821+03
4549	NZD/USD	38.397324	1.4885107	1.2719322	2023-01-03 12:50:21.981878+03
1650	USD/CHF	43.25892	1.474805	1.4555112	2023-03-21 18:08:44.195348+03
1394	GBP/USD	38.173553	1.4410775	1.4137564	2023-03-16 00:43:17.373612+03
2643	USD/CHF	48.180508	1.3274293	1.422824	2023-02-28 00:03:06.542176+03
3437	EUR/USD	24.485767	1.5091623	1.4009845	2023-02-06 06:22:21.072062+03
4668	NZD/USD	44.07361	1.228709	1.2598535	2023-01-10 02:28:34.919241+03
1404	USD/CHF	36.04292	1.2808461	1.3938159	2023-01-03 09:49:39.174819+03
2655	GBP/USD	28.311563	1.3194677	1.4163926	2023-01-15 23:47:11.618274+03
1218	USD/CAD	16.110811	1.4544003	1.5063204	2023-02-10 19:41:43.211888+03
530	USD/CAD	12.199856	1.2117774	1.5089055	2023-02-02 21:42:04.302839+03
2469	AUD/USD	41.584553	1.4888533	1.5076915	2023-02-24 00:52:01.882443+03
3050	EUR/USD	14.800897	1.4976543	1.3526509	2023-03-18 22:29:48.348455+03
4749	USD/CHF	29.227787	1.4198325	1.3760082	2023-03-03 07:28:31.224106+03
2711	NZD/USD	17.81962	1.2343208	1.4613671	2023-01-14 23:32:27.786851+03
2818	EUR/USD	34.012714	1.5380049	1.2136931	2023-02-08 19:01:03.4301+03
1943	NZD/USD	42.221874	1.3393303	1.4682308	2023-03-27 21:28:04.734961+03
694	GBP/USD	8.387614	1.3952557	1.5026914	2023-01-02 13:21:46.024272+03
4452	USD/CAD	10.086691	1.3223321	1.4540682	2023-01-19 02:35:36.856655+03
147	GBP/USD	10.947504	1.3918998	1.4724784	2023-03-29 04:13:43.512912+03
4216	USD/JPY	41.479145	1.5351063	1.2760681	2023-03-22 03:54:14.439506+03
2272	EUR/USD	32.18758	1.3805975	1.4629433	2023-02-10 18:28:46.28934+03
4356	USD/CHF	49.2807	1.4605751	1.5393744	2023-02-18 09:32:48.280497+03
4546	AUD/USD	39.92069	1.3592118	1.3887635	2023-02-20 00:15:46.560368+03
3181	EUR/USD	11.930778	1.4149933	1.2722983	2023-01-13 06:53:44.447175+03
4500	USD/CAD	48.52563	1.2841609	1.4406366	2023-02-24 12:54:28.548635+03
3550	USD/JPY	48.012295	1.3855033	1.2537969	2023-03-30 09:51:45.721854+03
3031	USD/CHF	22.792809	1.3575476	1.5093982	2023-03-17 16:09:44.362752+03
3144	AUD/USD	19.244778	1.2100853	1.2251108	2023-03-16 03:21:49.923746+03
2951	GBP/USD	16.921055	1.3287449	1.3210986	2023-03-10 06:34:42.846809+03
4074	NZD/USD	2.5143657	1.515889	1.2298001	2023-02-13 14:08:21.736057+03
201	EUR/USD	2.7125962	1.2735118	1.34821	2023-03-21 13:41:30.25661+03
963	GBP/USD	33.447678	1.5295709	1.5120867	2023-01-03 20:08:43.551555+03
1707	NZD/USD	3.572638	1.2590712	1.4047042	2023-02-18 17:23:34.832233+03
3211	USD/CAD	16.19671	1.354012	1.3896097	2023-01-29 20:25:11.299732+03
4229	USD/CHF	45.25171	1.4209096	1.3803798	2023-03-14 19:59:29.267072+03
1800	EUR/USD	7.6092386	1.3264173	1.456084	2023-03-27 14:52:19.704368+03
1185	USD/JPY	22.921095	1.3789989	1.3638828	2023-02-18 16:24:01.772832+03
3989	USD/JPY	30.971682	1.4449133	1.5125687	2023-02-03 03:19:33.590403+03
3804	USD/CHF	32.037205	1.4664159	1.4498975	2023-01-07 14:54:22.389318+03
4420	USD/CAD	50.78113	1.3733188	1.5341846	2023-02-25 17:47:42.392809+03
582	USD/JPY	47.265724	1.5392444	1.2762729	2023-03-03 19:24:34.76725+03
3044	GBP/USD	37.375885	1.2955673	1.416268	2023-03-01 07:05:00.331864+03
4781	USD/JPY	16.581211	1.2416137	1.5228767	2023-02-25 00:16:23.438615+03
4472	USD/CAD	19.168758	1.4234439	1.2396269	2023-02-25 09:53:15.027763+03
3110	GBP/USD	13.456011	1.3857493	1.3689588	2023-01-29 12:21:06.708594+03
3518	GBP/USD	32.218086	1.3298595	1.5162991	2023-01-11 02:03:34.345917+03
126	AUD/USD	8.07157	1.4220783	1.2271767	2023-01-24 08:37:45.252183+03
244	AUD/USD	37.06426	1.4581435	1.3229811	2023-01-05 19:53:03.596191+03
4737	GBP/USD	42.83707	1.3854464	1.244356	2023-01-30 19:45:01.29165+03
2551	USD/CHF	32.376083	1.2689741	1.3200326	2023-03-09 23:06:19.991221+03
3342	USD/CHF	19.639336	1.3081324	1.2448754	2022-12-31 19:05:39.304772+03
4413	USD/CAD	13.80502	1.5260897	1.4661006	2023-01-30 19:41:02.752042+03
3985	USD/CHF	7.473508	1.2499771	1.2973847	2023-03-16 15:10:18.947251+03
340	EUR/USD	35.44536	1.3302087	1.2863207	2023-03-20 02:08:09.511857+03
3807	USD/CHF	43.058346	1.4880484	1.3486897	2023-02-25 21:57:11.892947+03
2306	USD/CHF	44.945885	1.3753288	1.4505956	2023-02-13 04:27:13.526618+03
1313	USD/CAD	22.209507	1.2688978	1.5160803	2023-01-07 05:30:47.127482+03
578	EUR/USD	42.2099	1.2203239	1.4254532	2023-01-31 08:58:54.883198+03
2501	AUD/USD	41.959095	1.4027929	1.3464038	2023-02-17 22:41:21.105381+03
2172	NZD/USD	24.94453	1.3314084	1.2217283	2023-02-17 08:22:05.338028+03
1892	GBP/USD	18.343664	1.3920856	1.2937388	2023-02-16 15:03:50.363222+03
418	EUR/USD	22.360674	1.2623256	1.2520647	2023-01-08 09:16:10.627448+03
3283	AUD/USD	40.453575	1.4319372	1.4987977	2023-02-02 06:33:22.364162+03
865	EUR/USD	4.9583774	1.331126	1.4287106	2023-01-09 02:31:37.402798+03
29	USD/CAD	10.605249	1.2764183	1.2100782	2023-01-13 04:32:43.663724+03
1897	USD/CAD	13.529817	1.527039	1.2980002	2023-03-02 17:57:13.177493+03
3360	USD/JPY	23.569695	1.5030558	1.4364067	2023-01-09 22:17:23.655023+03
4273	NZD/USD	2.83765	1.5225049	1.343418	2023-02-11 01:53:27.202949+03
2146	GBP/USD	4.7143245	1.2443486	1.2217178	2023-03-23 02:14:15.321662+03
1030	EUR/USD	44.538647	1.2130022	1.5223863	2023-01-30 01:40:52.43908+03
1726	GBP/USD	10.0833845	1.3718292	1.3187461	2023-02-13 13:43:07.297563+03
685	EUR/USD	13.073104	1.2973571	1.2614907	2023-02-24 00:52:17.546784+03
3151	USD/CHF	8.091316	1.401732	1.4485412	2023-03-24 10:44:19.043187+03
491	USD/CHF	16.775244	1.2700447	1.472341	2023-01-06 14:12:37.661375+03
1226	EUR/USD	7.2133517	1.4671475	1.436355	2023-01-13 14:42:54.90796+03
2132	AUD/USD	22.31821	1.4232321	1.3126962	2023-01-10 10:30:45.958213+03
3138	USD/CAD	1.2523693	1.2891884	1.492202	2023-01-19 07:48:57.641975+03
2028	GBP/USD	12.822347	1.4634525	1.2498711	2023-02-13 12:39:10.01859+03
3529	AUD/USD	10.20804	1.3047805	1.4011846	2023-01-08 10:05:52.358832+03
3547	AUD/USD	11.154446	1.4366788	1.5112649	2023-02-22 11:59:28.592235+03
2673	USD/JPY	2.085002	1.5353936	1.2461694	2023-02-23 15:13:59.108671+03
403	EUR/USD	28.848974	1.2968436	1.3585653	2023-02-11 14:21:24.391717+03
1565	GBP/USD	18.10617	1.2146313	1.3344561	2023-03-24 00:45:46.852089+03
2371	USD/CAD	15.00466	1.4795592	1.3416846	2023-01-11 15:27:56.662045+03
509	USD/CHF	9.544271	1.3819903	1.4132788	2023-03-16 13:21:21.030719+03
1796	GBP/USD	46.859184	1.4027834	1.357682	2023-01-22 10:47:45.583068+03
1064	NZD/USD	49.89177	1.4802364	1.4131591	2023-03-26 11:30:11.958806+03
1968	GBP/USD	26.52331	1.2746572	1.2311541	2023-01-31 12:05:57.580613+03
2292	USD/JPY	47.342888	1.3582973	1.2767671	2023-01-15 07:46:04.185575+03
1561	AUD/USD	12.891539	1.2150049	1.2568327	2023-01-25 16:38:09.286012+03
941	EUR/USD	48.403683	1.3160142	1.4565468	2023-01-09 14:22:34.795401+03
2870	GBP/USD	41.929405	1.3796705	1.2742171	2023-02-15 07:02:28.70778+03
603	GBP/USD	35.35764	1.4824657	1.4649998	2023-03-20 07:35:49.204779+03
2705	GBP/USD	47.576824	1.3277044	1.4151953	2023-03-03 23:44:19.935926+03
2127	NZD/USD	49.34108	1.4433	1.4513203	2023-01-22 11:37:56.170766+03
2969	GBP/USD	12.4567995	1.416228	1.3107194	2023-01-19 16:14:08.500386+03
1575	USD/JPY	34.361633	1.4841608	1.508082	2023-03-04 00:08:08.675859+03
3924	USD/CAD	49.934464	1.5299093	1.3645375	2023-03-14 09:27:52.772501+03
4680	NZD/USD	36.87721	1.3580933	1.346337	2023-03-12 12:00:43.336067+03
3473	EUR/USD	23.539518	1.2687021	1.2578846	2023-01-18 20:36:58.415763+03
345	USD/JPY	20.150738	1.4558268	1.3996131	2023-03-17 17:48:01.797249+03
4379	NZD/USD	4.260193	1.3305194	1.3065854	2023-03-22 11:34:19.603731+03
299	EUR/USD	39.02493	1.3431947	1.528021	2023-03-07 06:52:08.231508+03
2145	GBP/USD	4.3801675	1.4554172	1.2890977	2023-01-29 00:30:25.512219+03
132	GBP/USD	35.64182	1.4758267	1.4395946	2023-02-12 13:33:16.507062+03
801	USD/JPY	45.605274	1.3670341	1.4977698	2023-01-22 23:59:22.849623+03
241	USD/JPY	31.933767	1.2440404	1.5276786	2023-03-30 22:54:47.95597+03
\.


--
-- Data for Name: securities; Type: TABLE DATA; Schema: traiding; Owner: sergey
--

COPY traiding.securities (client_id, client_date, client_isin_paper, client_n_papers, client_currency, client_rialto, client_closing_price) FROM stdin;
33	2023-01-25 15:39:41.023733+03	GXFxhIenbGWkP7l	136	USD	MSK	254 421,00 ₽
4	2023-02-28 07:01:35.948596+03	Mjn9wZlYZGvQLBv	88	USD	LON	245 189,00 ₽
10	2023-01-01 14:57:04.789673+03	UJyLESZZWytrFOL	438	GBP	GON	413 912,00 ₽
28	2023-03-05 11:12:29.58634+03	v6FfW7hXxMZzwq6	245	JPY	BER	491 801,00 ₽
48	2023-01-22 16:44:07.155552+03	7VLWWwgC4GjsQC1	41	CHF	LON	49 900,00 ₽
22	2023-01-23 23:29:24.365038+03	R5AFKFJay39BYML	111	CHF	GON	228 294,00 ₽
15	2023-01-07 04:11:38.210351+03	U8FrTX2ThOLQjXb	357	CAD	MSK	295 568,00 ₽
1	2023-02-12 11:08:26.981766+03	rtDQqtD2BLemZNj	348	NZD	NYC	82 162,00 ₽
38	2023-03-06 02:51:01.034238+03	FBwyuqsjqcwUxRG	180	CHF	LON	91 621,00 ₽
40	2023-02-22 05:44:49.600631+03	nLzv44SXxLtob4Q	477	CHF	SPD	181 614,00 ₽
14	2023-03-06 15:56:41.608452+03	zteAh4h7rkb7qrQ	262	AUD	LON	325 545,00 ₽
\.


--
-- Data for Name: сlients; Type: TABLE DATA; Schema: traiding; Owner: sergey
--

COPY traiding."сlients" (investor_id, full_name, investor_age, investor_country, number_in_briefcase, positive_capital, qual_or_nonqual, personal_manager_id) FROM stdin;
1	Krasnitskii Sergey Vladimirivich	23	Russia	448	2 555 999,77 ₽	t	1488
40	Jane G Lincoln	43	CAN	203	457 273 466,00 ₽	f	43
303	Mary W Truman	39	CAN	3351	476 668 595,00 ₽	t	15
94	Sarah D Williams	44	UA	2912	256 990 150,00 ₽	f	9
322	Steve A Nixon	27	UA	2866	113 914 022,00 ₽	f	36
269	Cleo U Reagan	14	CAN	4549	238 546 035,00 ₽	f	35
416	Jack H Taft	25	USA	2900	209 152 696,00 ₽	t	10
188	Barbara R Nixon	41	UA	4929	22 649 282,00 ₽	f	25
429	Martha H Truman	17	UA	2284	438 673 380,00 ₽	f	45
289	Donna F Johnson	19	JAP	1842	388 439 893,00 ₽	f	15
135	Martin Y Davis	29	CAN	4667	430 348 802,00 ₽	t	30
422	Allison G Hancock	35	JAP	2781	93 820 081,00 ₽	f	17
65	Melissa L Truman	48	JAP	3790	497 910 113,00 ₽	t	50
496	George G Reagan	29	USA	1469	267 814 659,00 ₽	t	6
485	Patty Y Ford	3	USA	3584	91 994 523,00 ₽	f	18
\.


--
-- Name: history_prices history_prices_pkey; Type: CONSTRAINT; Schema: traiding; Owner: sergey
--

ALTER TABLE ONLY traiding.history_prices
    ADD CONSTRAINT history_prices_pkey PRIMARY KEY (currency_id);


--
-- Name: investment_currencyhistory investment_currencyhistory_pkey; Type: CONSTRAINT; Schema: traiding; Owner: sergey
--

ALTER TABLE ONLY traiding.investment_currencyhistory
    ADD CONSTRAINT investment_currencyhistory_pkey PRIMARY KEY (currency_id);


--
-- Name: securities securities_pkey; Type: CONSTRAINT; Schema: traiding; Owner: sergey
--

ALTER TABLE ONLY traiding.securities
    ADD CONSTRAINT securities_pkey PRIMARY KEY (client_id);


--
-- PostgreSQL database dump complete
--

